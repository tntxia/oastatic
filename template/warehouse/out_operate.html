<div id="app">
    <div>
        <button @click="toReturn">返回合同</button>
        <button @click="toPrintDeliveryBill">打印送货单</button>
        <button @click="outAll">出库所有产品</button>
        <button @click="back">返回出库管理</button>
    </div>

    <div class="jxiaui-table-form">
        <table>
            <tr>
                <th>销售单号</th>
                <td>{{detail.number}}</td>
                <th>负 责 人</th>
                <td>{{detail.man}}</td>
            </tr>
            <tr>
                <th>客户名称</th>
                <td>{{detail.coname}}</td>
                <th>客户合同号</th>
                <td>{{detail.sub}}</td>
            </tr>
            <tr>
                <th>帐单地址</th>
                <td colspan="3">{{detail.coaddr}}</td>
            </tr>
            <tr>
                <th>销售时间</th>
                <td>{{detail.datetime}}</td>
                <th>发货时间</th>
                <td>{{detail.send_date}}</td>
            </tr>
            <tr>
                <td colspan="4">
                    <jxiaui-datagrid class="table" ref="datagrid" :dataset="dataset" :self-define-row-handler="rowHandler">
                        <jxiaui-datagrid-item label="#" type="index"></jxiaui-datagrid-item>
                        <jxiaui-datagrid-item label="型号" field="epro"></jxiaui-datagrid-item>
                        <jxiaui-datagrid-item label="批号" field="cpro">
                        </jxiaui-datagrid-item>
                        <jxiaui-datagrid-item label="数量" field="num">
                        </jxiaui-datagrid-item>
                        <jxiaui-datagrid-item label="货期" field="fypronum">
                        </jxiaui-datagrid-item>
                        <jxiaui-datagrid-item label="已出库数量" field="numOut">
                        </jxiaui-datagrid-item>
                        <jxiaui-datagrid-item label="品牌" field="supplier">
                        </jxiaui-datagrid-item>
                        <jxiaui-datagrid-item label="出库数量">
                            <template v-slot="row">
                                <input v-model="row.outNum">
                            </template>
                        </jxiaui-datagrid-item>
                        <jxiaui-datagrid-item label="出库产品">
                            <template v-slot="row">
                                <product-select v-model="row.productId" :model="row.epro"></product-select>
                            </template>
                        </jxiaui-datagrid-item>
                        <jxiaui-datagrid-item label="操作">
                            <template v-slot="row">
                                    <button @click="out(row)">出库</button>
                                </template>
                        </jxiaui-datagrid-item>
                    </jxiaui-datagrid>
                </td>

            </tr>
        </table>
    </div>

    <!-- 返回合同的弹出框 -->
    <return-out-dialog ref="returnDialog"></return-out-dialog>
</div>